# epythets

С помощью pymorphy извлекаем, нормализуем из текста множество эпитетов, сохраняя их в sqlite.

## Эпитеты?

Словосочетания соответствующие шаблону

`< прилагательное | причастие в страдательном залоге > < существительное >`

при этом оба слова изначально согласованы по числу и полу. Перед сохранением оба слова приводятся в именительный падеж.

## Как использовать

``` shell
git clone https://github.com/strizhechenko/epythets
cd epythets
# Инициализируем схему БД
python3.8 -m epythets.__init__ --db db.sqlite3 --init
# "Обучаем" на классике, чтобы типовые обороты не считались спецификой последующих текстов
# На самом деле одного "Идиота" для этого мало - ~2.8к фраз.
python3.8 -m epythets.__init__ --db db.sqlite3 --filename texts/idiot.txt --label idiot
# из "случая Чарльза Декстера Уальда" извлеклось 2.5к фраз при значительно меньшей длине
python3.8 -m epythets.__init__ --db db.sqlite3 --filename texts/wild.txt --label wild
# А из Хребтов Безумия - 1.5к.
python3.8 -m epythets.__init__ --db db.sqlite3 --filename texts/madness.txt --label madness
# Из "Снов в ведьмином доме" получилось достать 662 фразы, но ~40% являются довольно неспецифичными
python3.8 -m epythets.__init__ --db db.sqlite3 --filename texts/witchhouse.txt --label witchhouse
sqlite3 db.sqlite3
```
## Пример

Что извлекли из Снов в Ведьмином доме? В принципе уровень специфичности около 60%. Мне кажется, если увеличить объём первичной базы, выйдет значительно лучше.

``` sql
SELECT phrase FROM phrase WHERE label = 'witchhouse';
```

- Современная Работа
- Замкнутое Пространство
- Детские Кости
- Кирпичная Кладка
- Скрытый Страх
- Другая Находка
- Странные Умолчания
- Сравнительная Анатомия
- Скупые Сведения
- Широкая Публика
- Пятипалые Лапки
- Нашедший Скелет
- Один Палец
- Маленький Череп
- Искажённая Копия
- Режущий Слух
